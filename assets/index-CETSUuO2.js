var Fn=Object.defineProperty;var In=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var o=(e,t,n)=>In(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function T(e,t){return Object.assign(Object.create(e.prototype),t)}const Vn=Symbol("force");function J(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(Function(),{get(s,i){return i==Vn&&n(),n()[i]},set(s,i,l){return n()[i]=l,!0},construct(s,i,l){return Reflect.construct(n(),i,l)}})}function Lt(e){return e===void 0?null:{$:1,$0:e}}function Pt(e,t,n){n?e[t]=n.$0:delete e[t]}let Ct=[];function Cn(e){Ct.push(e)}function Ln(){for(var e=0;e<Ct.length;e++)Ct[e]();Ct=[]}function M(e){return"Dispose"in e}function Pn(){return _n(""),h.RunById("main",Un()),e=>{ce()}}function Un(){return st.mainView}function ce(){function e(){return At(()=>Z(ze(1e3),()=>(q().Set(Rn(q().Get())),q().Get().IsGameOver?vt():Z(e(),()=>Gt(null)))))}fe(e())}function Rn(e){if(e.IsGameOver)return e;{const t=K((r,s)=>r===e.CurrentPlayer&&s.TimeLeft>0?qt(s.Name,s.Score,s.TimeLeft-1,s.Lives):s,e.Players),n=t.get_Item(e.CurrentPlayer);return Je(r=>r.TimeLeft<=0,t)?z(e.Cards,e.Flipped,t,e.CurrentPlayer,!0,e.Streak):n.TimeLeft<=0?z(e.Cards,e.Flipped,t,(e.CurrentPlayer+1)%t.Length,e.IsGameOver,e.Streak):z(e.Cards,e.Flipped,t,e.CurrentPlayer,e.IsGameOver,e.Streak)}}function q(){return st.gameStateVar}function ee(e,t){return z(On(e),N.Empty,Wn(t),0,!1,0)}function xe(){return st.playerNamesVar}function qn(){return st.nameInputView}function Mn(e){return h.Element("div",[],K((t,n)=>h.Element("div",[E.Create("style",t===e.CurrentPlayer?"font-weight:bold; color:green;":"color:black;")],[h.TextNode(String(n.Name)+" - Pont: "+String(n.Score)+", Id≈ë: "+String(n.TimeLeft)+"s, √âletek: "+String(n.Lives))]),e.Players))}function jn(e){return h.Element("div",[E.Create("class","cards")],K(Jn,e.Cards))}function Kn(e){ce(),q().Set(ee(8,et(["J√°t√©kos1","J√°t√©kos2"])))}function On(e){return K((t,n)=>Et(t,n,!1,!1),Ye(()=>Ke().Next_2(),mr(t=>et([t,t]),he(tn(e,Xn())))))}function Wn(e){return ne(t=>qt(t,0,60,5),e)}function Jn(e,t){return h.Element("div",[E.Create("class",ot(" ",he(wt(()=>ie(["card"],wt(()=>ie(t.IsFlipped||t.IsMatched?["flipped"]:[],wt(()=>t.IsMatched?["matched"]:[])))))))),le("click",()=>n=>Yn(e))],[h.Element("div",[E.Create("class","card-inner")],[h.Element("div",[E.Create("class","card-front")],[h.TextNode("‚ùì")]),h.Element("div",[E.Create("class","card-back")],[h.TextNode(t.Value)])])])}function Xn(){return st.emojis}function Ke(){return st.random}function Yn(e){const t=q().Get();if(!t.IsGameOver&&t.Flipped.Length<2){const n=Qn(t,e);q().Set(n),n.Flipped.Length===2&&fe(At(()=>Z(ze(1e3),()=>{const r=zn(q().Get()),s=n.Flipped,i=s.$==1&&s.$1.$==1&&s.$1.$1.$==0&&n.Cards.get_Item(s.$0).Value==n.Cards.get_Item(s.$1.$0).Value?r:Zn(r);return q().Set(i),vt()})))}}function Qn(e,t){return wr(t,e.Flipped)||e.Cards.get_Item(t).IsMatched?e:z(K((n,r)=>n===t?Et(r.Id,r.Value,!0,r.IsMatched):r,e.Cards),N.Cons(t,e.Flipped),e.Players,e.CurrentPlayer,e.IsGameOver,e.Streak)}function zn(e){const t=e.Flipped;if(t.$==1)if(t.$1.$==1)if(t.$1.$1.$==0){const n=t.$0,r=t.$1.$0;if(e.Cards.get_Item(n).Value==e.Cards.get_Item(r).Value){const s=K((a,d)=>a===n||a===r?Et(d.Id,d.Value,d.IsFlipped,!0):d,e.Cards),i=K((a,d)=>a===e.CurrentPlayer?qt(d.Name,d.Score+1,d.TimeLeft,d.Lives):d,e.Players),l=Fe(s),u=e.Streak+1;return z(u>=3?Hn(s):s,N.Empty,i,e.CurrentPlayer,l,u%3)}else{const s=K((l,u)=>l===n||l===r?Et(u.Id,u.Value,!1,u.IsMatched):u,e.Cards),i=K((l,u)=>l===e.CurrentPlayer?qt(u.Name,u.Score,u.TimeLeft,u.Lives-1):u,e.Players);return z(s,N.Empty,i,e.CurrentPlayer,i.get_Item(e.CurrentPlayer).Lives<=0||Fe(s),0)}}else return e;else return e;else return e}function Zn(e){return z(e.Cards,N.Empty,e.Players,(e.CurrentPlayer+1)%e.Players.Length,e.IsGameOver,e.Streak)}function Hn(e){const t=Ye(()=>Ke().Next_2(),re(n=>!n.IsMatched,e));return K((n,r)=>Et(n,r.Value,r.IsFlipped,r.IsMatched),yr(re(n=>n.IsMatched,e),t))}function Fe(e){return Je(t=>t.IsMatched,e)}function _n(e){Bn()||(tr(!0),er(globalThis.document.body,"")),gt().set_Item(e,ae(""))}function Bn(){return kt.LocalTemplatesLoaded}function tr(e){kt.LocalTemplatesLoaded=e}function er(e,t){const n=ae(t),r=new bt("New_5"),s=e.querySelectorAll("[ws-template]");for(let f=0,v=s.length-1;f<=v;f++){const $=s[f],w=$.getAttribute("ws-template").toLowerCase();$.removeAttribute("ws-template"),r.set_Item(w,Oe($))}const i=e.querySelectorAll("[ws-children-template]");for(let f=0,v=i.length-1;f<=v;f++){const $=i[f],w=$.getAttribute("ws-children-template").toLowerCase();$.removeAttribute("ws-children-template"),r.set_Item(w,nr($))}const l=e.querySelectorAll("template[id]");for(let f=0,v=l.length-1;f<=v;f++){const $=l[f];r.set_Item($.getAttribute("id").toLowerCase(),Ie($))}const u=e.querySelectorAll("template[name]");for(let f=0,v=u.length-1;f<=v;f++){const $=u[f];r.set_Item($.getAttribute("name").toLowerCase(),Ie($))}const a=new O("New_3");function d(f){if(!n.ContainsKey(f)){let v;const $=(v=null,[r.TryGetValue(f,{get:()=>v,set:w=>{v=w}}),v]);$[0]?(a.SAdd(f),r.RemoveKey(f),mt(t,g(f),$[1],g(d))):console.warn(a.Contains(f)?"Encountered loop when instantiating "+f:"Local template does not exist: "+f)}}for(;r.count>0;)d(Tr(r.Keys))}function gt(){return kt.LoadedTemplates}function ae(e){let t;const n=(t=null,[gt().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{const r=new bt("New_5");return gt().set_Item(e,r),r}}function Oe(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const r=e.parentNode;if(!y(r,null)){const s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}const n=globalThis.document.createElement("div");return n.appendChild(e),n}function nr(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function Ie(e){const t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function mt(e,t,n,r){const s=new O("New_3");function i($,w){for(;;)switch($){case 0:if(w!==null){const c=w.nextSibling;y(w.nodeType,Node.TEXT_NODE)?Es(w):y(w.nodeType,Node.ELEMENT_NODE)&&u(w),w=c}else return null;break;case 1:const x=ut(w.nodeName,g(3),null).toLowerCase(),I=x.indexOf("."),V=I===-1?[e,x]:[ut(x,null,g(I-1)),ut(x,g(I+1),null)],b=V[1],S=V[0];if(S!=""&&!gt().ContainsKey(S))return Re(b);{S==""&&r!=null&&r.$0(b);const c=gt().Item(S);if(c.ContainsKey(b)){const p=c.Item(b).cloneNode(!0),D=new O("New_3"),L=new bt("New_5"),X=w.attributes;for(let C=0,B=X.length-1;C<=B;C++){const P=X.item(C).name.toLowerCase(),Q=X.item(C).nodeValue;let it=Q==""?P:Q.toLowerCase();L.set_Item(P,it),D.SAdd(P)||console.warn("Hole mapped twice",P)}for(let C=0,B=w.childNodes.length-1;C<=B;C++){const P=w.childNodes[C];y(P.nodeType,Node.ELEMENT_NODE)&&(D.SAdd(P.nodeName.toLowerCase())||console.warn("Hole filled twice",b))}const Te=w.childNodes.length===1&&y(w.firstChild.nodeType,Node.TEXT_NODE);if(Te){const C=Ds(p,w.firstChild.textContent,b),B=(Q=>it=>Q.SAdd(it))(D);(Q=>it=>{it!=null&&Q(it.$0)})(Q=>{B(Q)})(C)}if(As(p,D),!Te)for(let C=0,B=w.childNodes.length-1;C<=B;C++){const P=w.childNodes[C];y(P.nodeType,Node.ELEMENT_NODE)&&(P.hasAttributes()?Gs(p,P):l(p,P))}ks(p,L),qe(p,w.parentNode,w),w.parentNode.removeChild(w);return}else return Re(b)}}}function l($,w){const x=w.nodeName.toLowerCase(),I=(b,S)=>{if(x=="title"&&w.hasChildNodes()){const c=Ss(w.textContent);for(w.removeChild(w.firstChild);c.hasChildNodes();)w.appendChild(c.firstChild)}return u(w),qe(w,b,S)};Y($,"[ws-attr-holes]",b=>{const S=nt(b.getAttribute("ws-attr-holes"),[" "],1);for(let c=0,m=S.length-1;c<=m;c++){const p=G(S,c);let D=new RegExp("\\${"+x+"}","ig"),L=b.getAttribute(p).replace(D,w.textContent);b.setAttribute(p,L)}});const V=$.querySelector("[ws-hole="+x+"]");if(y(V,null)){const b=$.querySelector("[ws-replace="+x+"]");if(y(b,null)){const S=$.querySelector("slot[name="+x+"]");return $.tagName.toLowerCase()=="template"?(I(S.parentNode,S),void S.parentNode.removeChild(S)):null}else{I(b.parentNode,b),b.parentNode.removeChild(b);return}}else{for(;V.hasChildNodes();)V.removeChild(V.lastChild);return V.removeAttribute("ws-hole"),I(V,null)}}function u($){$.hasAttribute("ws-preserve")||(se($.nodeName.toLowerCase(),"ws-")?d($):(pn($),a($.firstChild)))}function a($){return i(0,$)}function d($){return i(1,$)}function f($){for(;;){const w=$.querySelector("[ws-template]");if(y(w,null)){const x=$.querySelector("[ws-children-template]");if(y(x,null)){const I=$.querySelectorAll("template[id]");for(let b=1,S=I.length-1;b<=S;b++){const c=I[b];s.Contains(c)||(mt(e,g(c.getAttribute("id")),c,null),s.SAdd(c))}const V=$.querySelectorAll("template[name]");for(let b=1,S=V.length-1;b<=S;b++){const c=V[b];s.Contains(c)||(mt(e,g(c.getAttribute("name")),c,null),s.SAdd(c))}return null}else{const I=x.getAttribute("ws-children-template");x.removeAttribute("ws-children-template"),mt(e,g(I),x,null),$=$}}else{const x=w.getAttribute("ws-template");rr(e,g(x),w)(null),$=$}}}const v=(t==null?"":t.$0).toLowerCase();ae(e).set_Item(v,n),n.hasChildNodes()&&(f(n),a(n.firstChild))}function Y(e,t,n){Cs(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function rr(e,t,n){const r=Oe(n);return s=>{mt(e,t,r,s)}}function Ut(){return kt.TextHoleRE}class j{Equals(t){return this===t}GetHashCode(){return-1}}class h extends j{constructor(n,r){super();o(this,"docNode");o(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){const s=globalThis.document.getElementById(n);y(s,null)?U("invalid id: "+n):h.Run(s,r)}static Run(n,r){nn(n,r.docNode),h.RunInPlace(!1,n,r)}static get Empty(){return h.Mk(null,ue())}static RunInPlace(n,r,s){const i=Wr(r,s.docNode);as(wn()||yn()?Js(Jr(n,i,s.docNode)):()=>{Xr(n,i,s.docNode)},s.updates)}static TextNode(n){return h.Mk(Mr(globalThis.document.createTextNode(n)),ue())}static Input(n,r){return h.InputInternal("input",()=>ie(n,[us(r)]))}static BindView(n,r){return h.EmbedView(rt(n,r))}static Mk(n,r){return new h(n,r)}static Element(n,r,s){const i=E.Concat(r),l=h.Concat(s);return Wt.New(globalThis.document.createElement(n),i,l)}static InputInternal(n,r){const s=globalThis.document.createElement(n);return Wt.New(s,E.Concat(r(s)),h.Empty)}static EmbedView(n){const r=Zr();return h.Mk(jr(r),rt(()=>{},ds(s=>(Hr(r,s.docNode),s.updates),n)))}static Concat(n){return ke(h.Empty,h.Append,It(n))}static Append(n,r){return h.Mk(Or(n.docNode,r.docNode),we(n.updates,r.updates))}}let st=J(e=>{var t;return t=class{},st=e(t),o(t,"mainView"),o(t,"nameInputView"),o(t,"gameStateVar"),o(t,"playerNamesVar"),o(t,"random"),o(t,"emojis"),(()=>{t.emojis=et(["üê∂","üê±","ü¶ä","üêº","üêµ","üê∏","üêô","ü¶Ñ"]),t.random=new dr,t.playerNamesVar=$t.Create_1(null),t.gameStateVar=$t.Create_1(ee(8,et(["J√°t√©kos1","J√°t√©kos2"])));const r=$t.Create_1(""),s=$t.Create_1("");let i=h.Element("div",[E.Create("style","margin: 2rem;")],[h.Element("h3",[],[h.TextNode("Add meg a j√°t√©kosok neveit:")]),h.Element("div",[],[h.Element("label",[],[h.TextNode("J√°t√©kos 1: ")]),h.Input([],r)]),h.Element("div",[E.Create("style","margin-top: 1rem;")],[h.Element("label",[],[h.TextNode("J√°t√©kos 2: ")]),h.Input([],s)]),h.Element("button",[E.Create("style","margin-top: 1rem;"),le("click",()=>{const l=ne(u=>u==""?"N√©vtelen":u,et([r.Get(),s.Get()]));return xe().Set(g(l)),q().Set(ee(8,l)),u=>{ce()}})],[h.TextNode("‚ñ∂Ô∏è J√°t√©k ind√≠t√°sa")])]);t.nameInputView=i,t.mainView=h.BindView(l=>l==null?qn():h.Element("div",[E.Create("class","game-board")],[h.BindView(Mn,q().View),h.BindView(jn,q().View),h.BindView(u=>{if(u.IsGameOver){const a=fr(v=>v.Score,u.Players).Score;hr(v=>v.Lives<=0,u.Players);const d=re(v=>v.Score===a,u.Players),f=d.Length===1?"üèÜ A gy≈ëztes: "+Xe(d).Name+"!":"ü§ù D√∂ntetlen! Gy≈ëztesek: "+ot(", ",ne(v=>v.Name,d));return h.Element("div",[E.Create("style","margin-top:1rem;")],[h.Element("div",[E.Create("style","color:red; font-weight:bold; margin-bottom:0.5rem;")],[h.TextNode("V√©get √©rt a j√°t√©k!")]),h.Element("div",[E.Create("style","margin-bottom:0.5rem; color:blue; font-weight:bold;")],[h.TextNode(f)]),h.Element("button",[E.Create("class","restart-button"),le("click",()=>Kn)],[h.TextNode("üîÅ √öj j√°t√©k ind√≠t√°sa")])])}else return h.Empty},q().View)]),xe().View)})(),t});class sr extends j{}function U(e){throw new Error(e)}function lt(e){return[e.K,e.V]}function Ve(e,t){const n=1+t-e;return n<=0?[]:Lr(n,r=>r+e)}function z(e,t,n,r,s,i){return{Cards:e,Flipped:t,Players:n,CurrentPlayer:r,IsGameOver:s,Streak:i}}function ir(e){let t=[];for(var n in e)t.push(e[n]);return t}class bt extends j{constructor(n,r,s,i){var t=(...nl)=>(super(...nl),o(this,"equals"),o(this,"hash"),o(this,"count"),o(this,"data"),this);if(n=="New_5"&&(n="New_6",r=[],s=y,i=Nt),n=="New_6"){const l=r,u=s,a=i;t(),this.equals=u,this.hash=a,this.count=0,this.data=[];const d=k(l);try{for(;d.MoveNext();){const f=d.Current;this.set(f.K,f.V)}}finally{typeof d=="object"&&M(d)&&d.Dispose()}}}set_Item(n,r){this.set(n,r)}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:dn(s=>this.equals.apply(null,[lt(s)[0],n]),r)}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const i=hn(l=>{const u=lt(l);return this.equals.apply(null,[u[0],n])?g(u[1]):null},s);return i!=null&&i.$==1&&(r.set(i.$0),!0)}}RemoveKey(n){return this.remove(n)}get Keys(){return new Ks(this)}set(n,r){const s=this.hash(n),i=this.data[s];if(i==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const l=$s(u=>this.equals.apply(null,[lt(u)[0],n]),i);l==null?(this.count=this.count+1,i.push({K:n,V:r})):i[l.$0]={K:n,V:r}}}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const i=xt(l=>!this.equals.apply(null,[lt(l)[0],n]),s);return A(i)<s.length&&(this.count=this.count-1,this.data[r]=i,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?ps():ws(s=>{const i=lt(s);return this.equals.apply(null,[i[0],n])?g(i[1]):null},r)}GetEnumerator(){return Us(gs(ir(this.data)))}static New_5(){return new this("New_5")}static New_6(n,r,s){return new this("New_6",n,r,s)}}function y(e,t){if(e===t)return!0;{const s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!y(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return Ce(e,t);if(e instanceof Date&&t instanceof Date)return lr(e,t);{const i=[!0];for(var n in e)if((l=>(i[0]=!e.hasOwnProperty(l)||t.hasOwnProperty(l)&&y(e[l],t[l]),!i[0]))(n))break;if(i[0]){for(var r in t)if((l=>(i[0]=!t.hasOwnProperty(l)||e.hasOwnProperty(l),!i[0]))(r))break}return i[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&Ce(e.$Invokes,t.$Invokes))}}function Ce(e,t){let n,r;if(A(e)===A(t)){for(n=!0,r=0;n&&r<A(e);)y(G(e,r),G(t,r))||(n=!1),r=r+1;return n}else return!1}function lr(e,t){return e.getTime()===t.getTime()}function dt(e,t){if(e===t)return 0;{const s=typeof e;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return U("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return ur(e,t);if(e instanceof Date&&t instanceof Date)return or(e,t);{const i=[0];for(var n in e)if((l=>e.hasOwnProperty(l)?t.hasOwnProperty(l)?(i[0]=dt(e[l],t[l]),i[0]!==0):(i[0]=1,!0):!1)(n))break;if(i[0]===0){for(var r in t)if((l=>t.hasOwnProperty(l)?!e.hasOwnProperty(l)&&(i[0]=-1,!0):!1)(r))break}return i[0]}}}}function ur(e,t){let n,r;if(A(e)<A(t))return-1;if(A(e)>A(t))return 1;for(n=0,r=0;n===0&&r<A(e);)n=dt(G(e,r),G(t,r)),r=r+1;return n}function or(e,t){return dt(e.getTime(),t.getTime())}function Nt(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?We(e):t=="object"?e==null?0:e instanceof Array?cr(e):ar(e):0}function We(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=Rt(t,e[n].charCodeAt());return t}function cr(e){let t=-34948909;for(let n=0,r=A(e)-1;n<=r;n++)t=Rt(t,Nt(G(e,n)));return t}function ar(e){if("GetHashCode"in e)return e.GetHashCode();{const n=[0];for(var t in e)(r=>(n[0]=Rt(Rt(n[0],We(r)),Nt(e[r])),!1))(t);return n[0]}}function Rt(e,t){return(e<<5)+e+t}const yt=class yt{get Length(){return pr(this)}get_Item(t){return Fr(t,this)}static Cons(t,n){return T(yt,{$:1,$0:t,$1:n})}GetEnumerator(){return new _(this,null,t=>{const n=t.s;return n.$==0?!1:(t.c=n.$0,t.s=n.$1,!0)},void 0)}};o(yt,"Empty",T(yt,{$:0}));let N=yt;class dr extends j{Next_2(){return Math.floor(Math.random()*2147483648)}}function g(e){return{$:1,$0:e}}function et(e){let t=N.Empty;for(let n=A(e)-1,r=0;n>=r;n--)t=N.Cons(G(e,n),t);return t}function ne(e,t){let n,r,s;if(t.$==0)return t;{const i=T(N,{$:1});for(n=i,r=t,s=!0;s;)if(n.$0=e(r.$0),r=r.$1,r.$==0)s=!1;else{const l=T(N,{$:1});n=(n.$1=l,l)}return n.$1=N.Empty,i}}function hr(e,t){let n=!1,r=t;for(;!n&&r.$==1;)n=e(r.$0),r=r.$1;return n}function re(e,t){let n,r,s,i;if(t.$==0)return t;for(n=N.Empty,r=n,s=t,i=!0;i;){if(e(s.$0)){if(n.$==0)n=T(N,{$:1}),r=n;else{const u=T(N,{$:1});r=(r.$1=u,u)}const l=s.$0;r.$=1,r.$0=l}s=s.$1,s.$==0&&(i=!1)}return n.$!=0&&(r.$1=N.Empty),n}function fr(e,t){$r(t);let n=t.$0,r=e(n),s=t.$1;for(;s.$==1;){const i=s.$0,l=e(i);dt(l,r)===1&&(n=i,r=l),s=s.$1}return n}function K(e,t){let n,r,s,i;if(t.$==0)return t;{const l=T(N,{$:1});for(n=l,r=t,s=0,i=!0;i;)if(n.$0=e(s,r.$0),r=r.$1,r.$==0)i=!1;else{const u=T(N,{$:1});n=(n.$1=u,u),s=s+1}return n.$1=N.Empty,l}}function Je(e,t){let n=!0,r=t;for(;n&&r.$==1;)n=e(r.$0),r=r.$1;return n}function pr(e){let t=e,n=0;for(;t.$==1;)t=Qe(t),n=n+1;return n}function Xe(e){return e.$==1?e.$0:de()}function $r(e){e.$==0&&de()}function mr(e,t){return he(en(e,t))}function Ye(e,t){const n=ge(t);return ms(e,n),et(n)}function de(){return U("The input list was empty.")}function he(e){if(e instanceof N)return e;if(e instanceof Array)return et(e);{const t=k(e);try{let n,r=t.MoveNext();if(r){const s=T(N,{$:1});for(n=s;r;)if(n.$0=t.Current,t.MoveNext()){const i=T(N,{$:1});n=(n.$1=i,i)}else r=!1;return n.$1=N.Empty,s}else return N.Empty}finally{typeof t=="object"&&M(t)&&t.Dispose()}}}function Qe(e){return e.$==1?e.$1:de()}function wr(e,t){let n=!1,r=t;for(;!n&&r.$==1;)n=y(e,r.$0),r=r.$1;return n}function yr(e,t){let n,r,s;if(e.$==0)return t;if(t.$==0)return e;{const i=T(N,{$:1});for(n=i,r=e,s=!0;s;)if(n.$0=r.$0,r=r.$1,r.$==0)s=!1;else{const l=T(N,{$:1});n=(n.$1=l,l)}return n.$1=t,i}}let $t=J(e=>{var t;return t=class extends j{static Create_1(r){return new ts(!1,{s:zt(r,[])},r)}},$t=e(t),t});function qt(e,t,n,r){return{Name:e,Score:t,TimeLeft:n,Lives:r}}function ot(e,t){return Kt(t).join(e)}function nt(e,t,n){return gr(e,new RegExp("["+br(t.join(""))+"]"),n)}function se(e,t){return e.substring(0,t.length)==t}function gr(e,t,n){return n===1?xt(r=>r!=="",Le(e,t)):Le(e,t)}function br(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function Le(e,t){return e.split(t)}function Nr(e,t){return Rr(e,vr(t))}function vr(e){return e??""}function At(e){return t=>{try{e()(t)}catch(n){t.k(ye(n))}}}function Z(e,t){return Er(n=>{e(cn(r=>{if(r.$==0){const s=r.$0;H().Fork(()=>{try{t(s)(n)}catch(i){n.k(ye(i))}})}else H().Fork(()=>{n.k(r)})},n.ct))})}function ze(e){return t=>{let n,r;n=void 0,r=void 0,n=setTimeout(()=>{r.Dispose(),H().Fork(()=>{t.k(Yt(null))})},e),r=Dr(t.ct,()=>{clearTimeout(n),H().Fork(()=>{Ze(t)})})}}function Gt(e){return t=>{t.k(Yt(e))}}function vt(){return Tt.Zero}function fe(e,t){const r=Ar()[0];H().Fork(()=>{r.c||e(cn(s=>{s.$==1&&Gr(s.$0)},r))})}function Er(e){return t=>{t.ct.c?Ze(t):e(t)}}function Dr(e,t){if(e===kr())return{Dispose(){return null}};{const n=e.r.push(t)-1;return{Dispose(){return Be(e.r,n,()=>{})}}}}function Ze(e){e.k(an(new ii("New",e.ct)))}function Ar(){return Tt.defCTS}function Gr(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function H(){return Tt.scheduler}function kr(){return Tt.noneCT}function He(e){return t=>{const n=[!1],r=s=>{n[0]?U("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,H().Fork(s))};e(s=>{r(()=>{t.k(Yt(s))})},s=>{r(()=>{t.k(ye(s))})},s=>{r(()=>{t.k(an(s))})})}}function Et(e,t,n,r){return{Id:e,Value:t,IsFlipped:n,IsMatched:r}}function Sr(e,t){return zi(e,-2147483648,2147483647,t)}let kt=J(e=>{var t;return t=class{},kt=e(t),o(t,"RenderedFullDocTemplate"),o(t,"TextHoleRE"),o(t,"GlobalHoles"),o(t,"LocalTemplatesLoaded"),o(t,"LoadedTemplates"),t.LoadedTemplates=new bt("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new bt("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function G(e,t){return _e(e,t),e[t]}function A(e){return e.dims===2?e.length*e.length:e.length}function _e(e,t){(t<0||t>=e.length)&&U("Index was outside the bounds of the array.")}function Be(e,t,n){_e(e,t),e[t]=n}class O extends j{constructor(n,r,s,i){var t=(...rl)=>(super(...rl),o(this,"equals"),o(this,"hash"),o(this,"data"),o(this,"count"),this);n=="New_3"&&(n="New_4",r=[],s=y,i=Nt);let l;if(n=="New_2"&&(l=r,n="New_4",r=l,s=y,i=Nt),n=="New_4"){const u=r,a=s,d=i;t(),this.equals=a,this.hash=d,this.data=[],this.count=0;const f=k(u);try{for(;f.MoveNext();)this.add(f.Current)}finally{typeof f=="object"&&M(f)&&f.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?s=!1:i=i+1;return!s}GetEnumerator(){return k(te(this.data))}ExceptWith(n){const r=k(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{typeof r=="object"&&M(r)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new O("New_4",n,this.equals,this.hash),s=te(this.data);for(let i=0,l=s.length-1;i<=l;i++){const u=s[i];r.Contains(u)||this.Remove(u)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=te(this.data);for(let i=0,l=s.length-1;i<=l;i++)Be(n,i+r,s[i])}arrRemove(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),s=!1):i=i+1;return!s}static New_3(){return new this("New_3")}static New_4(n,r,s){return new this("New_4",n,r,s)}static New_2(n){return new this("New_2",n)}}function Tr(e){const t=k(e);try{return t.MoveNext()?t.Current:Ot()}finally{typeof t=="object"&&M(t)&&t.Dispose()}}function ie(e,t){return{GetEnumerator:()=>{const n=k(e),r=[!0];return new _(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return y(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=k(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;y(i,null)||i.Dispose()})}}}function wt(e){return{GetEnumerator:()=>k(e())}}function xr(e,t,n){let r=t;const s=k(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{typeof s=="object"&&M(s)&&s.Dispose()}}function tn(e,t){return e<0&&Rs(),{GetEnumerator:()=>{const n=[k(t)];return new _(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{const s=n[0];return y(s,null)?Ot():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Ot())}},()=>{const r=n[0];y(r,null)||r.Dispose()})}}}function en(e,t){return Ir(St(e,t))}function Fr(e,t){e<0&&U("negative index requested");let n=-1;const r=k(t);try{for(;n<e;)r.MoveNext()||Ot(),n=n+1;return r.Current}finally{typeof r=="object"&&M(r)&&r.Dispose()}}function Ir(e){return{GetEnumerator:()=>{const t=k(e);function n(r){for(;;){const s=r.s;if(y(s,null))if(t.MoveNext())r.s=k(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new _(null,null,n,r=>{const s=r.s;y(s,null)||s.Dispose(),y(t,null)||t.Dispose()})}}}function St(e,t){return{GetEnumerator:()=>{const n=k(t);return new _(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function Vr(e,t){const n=k(t);try{for(;n.MoveNext();)e(n.Current)}finally{typeof n=="object"&&M(n)&&n.Dispose()}}function Cr(e){const t=k(e);try{t.MoveNext()||Pr();let n=t.Current;for(;t.MoveNext();){const r=t.Current;dt(r,n)===1&&(n=r)}return n}finally{typeof t=="object"&&M(t)&&t.Dispose()}}function Lr(e,t){return tn(e,Ur(t))}function Pr(){return U("The input sequence was empty.")}function Ur(e){return{GetEnumerator:()=>new _(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function Rr(e,t){return!qr(n=>!e(n),t)}function qr(e,t){const n=k(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{typeof n=="object"&&M(n)&&n.Dispose()}}function Mr(e){return{$:5,$0:e}}function jr(e){return{$:2,$0:e}}function Kr(e){return{$:1,$0:e}}function Or(e,t){return{$:0,$0:e,$1:t}}function nn(e,t){Mt(e,t,null)}function Mt(e,t,n){for(;;){if(t!=null&&t.$==1)return Vt(e,t.$0.El,n);if(t!=null&&t.$==2){const r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return Vt(e,t.$0.Text,n);if(t!=null&&t.$==5)return Vt(e,t.$0,n);if(t!=null&&t.$==6)return fn((r,s)=>(i=>l=>u=>l==null||l.constructor===Object?Mt(i,l,u):Vt(i,l,u))(e)(r)(s),t.$0.Els,n);{const r=t.$1;t=t.$0,n=Mt(e,r,n)}}}}function Wr(e,t){return oi(ci(),rn(e,bn(),t))}function Jr(e,t,n){return wn()?At(()=>{const r=vn(n),s=zr(t,r),i=Qr(t,r);return Z(Me(Os(s,Yr(t,r))),()=>Z(Pe(e,t),()=>Z(Me(i),()=>(t.PreviousNodes=r,Gt(null)))))}):Pe(e,t)}function Xr(e,t,n){const r=vn(n);Dt(e,t.Top),t.PreviousNodes=r}function Vt(e,t,n){return Ls(e,n,t),t}function rn(e,t,n){nn(e,n);const r=Ys(e,t);return be.New(r,n,null,e,gn(),Lt(r.OnAfterRender))}function Pe(e,t){if(yn()){const n=r=>{requestAnimationFrame(()=>{Dt(e,t.Top),r()})};return He((r,s,i)=>n.apply(null,[r,s,i]))}else return Dt(e,t.Top),Gt(null)}function Yr(e,t){return Qt(ht(n=>zs(n.Attr),Ae(En(t,De(n=>Qs(n.Attr),e.PreviousNodes)))))}function Qr(e,t){return Qt(ht(n=>Hs(n.Attr),Ae(En(e.PreviousNodes,De(n=>Zs(n.Attr),t)))))}function zr(e,t){const n=s=>_s(s.Attr),r=s=>De(n,s);return Qt(ht(s=>Bs(s.Attr),Ae(ai(r(e.PreviousNodes),r(t)))))}function Dt(e,t){e||_r(t),sn(t.Children),ln(t)}function Zr(){return{Current:null,Dirty:!1}}function Hr(e,t){e.Current=t,e.Dirty=!0}function _r(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,l=s.$0;if(r(l))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||dn(t,i.Holes)}else return!1}return r(n.Children)}Nn(e.El,e.Attr),t(e)&&Br(e)}function sn(e){for(;;){if(e!=null&&e.$==1)return Dt(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return W(n=>{Dt(!1,n)},t.Holes),W(n=>{Nn(n[0],n[1])},t.Attrs),ln(t)}else{const t=e.$1,n=e.$0;sn(n),e=t}}}}function ln(e){const t=Lt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Pt(e,"Render",null))}function Br(e){const t=e.El;function n(l,u){for(;;){if(l!=null&&l.$==1)return l.$0.El;if(l!=null&&l.$==2){const a=l.$0;if(a.Dirty)return a.Dirty=!1,Mt(t,a.Current,u);l=a.Current}else{if(l==null)return u;if(l!=null&&l.$==4)return l.$0.Text;if(l!=null&&l.$==5)return l.$0;if(l!=null&&l.$==6){const a=l.$0;return a.Dirty&&(a.Dirty=!1),fn((d,f)=>d==null||d.constructor===Object?n(d,f):d,a.Els,u)}else{const a=l.$1;l=l.$0,u=n(a,u)}}}}const r=e.El;Wi(l=>{Ps(r,l)},Oi(Ji(e),Ki(e.El,Lt(e.Delimiters))));let s=e.Children;const i=Lt(e.Delimiters);n(s,i!=null&&i.$==1?i.$0[1]:null)}class ts extends sr{constructor(n,r,s){super();o(this,"isConst");o(this,"current");o(this,"snap");o(this,"view");o(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=gn()}get View(){return this.view}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(_t(this.snap),this.current=n,this.snap={s:zt(n,[])})}Get(){return this.current}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function es(e,t,n){const r=e.s;r==null?n():r!=null&&r.$==2?(r.$1.push(n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),r.$1.push(n)):t(r.$0)}function ns(e,t){const n=t.s;if(n!=null&&n.$==0)return{s:Zt(e(n.$0))};{const r={s:Ht([],[])};return ct(t,s=>{on(r,t,e(s))},r),r}}function un(e,t){const n=e.s;n==null?t():(n!=null&&n.$==2||n!=null&&n.$==3)&&n.$1.push(t)}function ct(e,t,n){const r=e.s;r==null?_t(n):r!=null&&r.$==2?(jt(r.$1,n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),jt(r.$1,n)):t(r.$0)}function on(e,t,n){const r=t.s;r!=null&&r.$==0?pe(e,n):$e(e,n)}function rs(e){const t={s:Ht([],[])};return ct(e,n=>{const r=n();ct(r,s=>{let i;const l=r.s;if(l!=null&&l.$==0){const u=e.s;i=u!=null&&u.$==0}else i=!1;i?pe(t,s):$e(t,s)},t)},t),t}function jt(e,t){if(e.push(t),e.length%20===0){const n=e.slice(0);Bi(e);for(let r=0,s=A(n)-1;r<=s;r++){const i=G(n,r);typeof i=="object"?(l=>{l.s&&e.push(l)})(i):(l=>{e.push(l)})(i)}}}function pe(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Zt(t);const r=n.$0;for(let s=0,i=A(r)-1;s<=i;s++)G(r,s)(t)}}function $e(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=zt(t,n.$1);const r=n.$0;for(let s=0,i=A(r)-1;s<=i;s++)G(r,s)(t)}}function ss(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const n={s:zt(t.$0,[])};return ls(e,n),n}else if(t!=null&&t.$==3){const n={s:Ht([],[])};return ct(e,r=>{on(n,e,r)},n),n}else return e}function is(e,t){const n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:Zt(null)}:t;if(r!=null&&r.$==0)return e;{const s={s:Ht([],[])},i=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const u=Ue(e),a=Ue(t);u!=null&&u.$==1&&a!=null&&a.$==1&&(u.$0[1]&&a.$0[1]?pe(s,null):$e(s,null))}};return ct(e,i,s),ct(t,i,s),s}}function ls(e,t){const n=e.s;n==null?_t(t):(n!=null&&n.$==2||n!=null&&n.$==3)&&jt(n.$1,t)}function Ue(e){const t=e.s;return t!=null&&t.$==0?g([t.$0,!0]):t!=null&&t.$==2?g([t.$0,!1]):null}class E{static Create(t,n){return ve(r=>{r.setAttribute(t,n)})}static Concat(t){const n=It(t);return ke(bn(),E.Append,n)}static A3(t){return T(E,{$:3,$0:t})}static Append(t,n){return ei(t,n)}static A2(t,n){return T(E,{$:2,$0:t,$1:n})}static A1(t){return T(E,{$:1,$0:t})}}function le(e,t){return ve(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function us(e){return os(yi(),e)}function os(e,t){const n=e(t);return E.Append(ve(n[0]),cs(n[1],n[2]))}function cs(e,t){return ni(t,e)}function ue(e){const t={s:Zt(e)};return()=>t}function as(e,t){function n(){es(t(),e,()=>{H().Fork(n)})}H().Fork(n)}function rt(e,t){return me(()=>ns(e,t()))}function ds(e,t){return hs(rt(e,t))}function me(e){const t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;const r=n.s;return r!=null&&r.$==0?t.o=null:un(n,()=>{t.c=null}),n}else return n}}function hs(e){return me(()=>rs(e()))}function we(e,t){return me(()=>is(e(),t()))}function cn(e,t){return{k:e,ct:t}}function ye(e){return{$:1,$0:e}}function Yt(e){return{$:0,$0:e}}function an(e){return{$:2,$0:e}}let Tt=J(e=>{var t;return t=class{},Tt=e(t),o(t,"GetCT"),o(t,"Zero"),o(t,"defCTS"),o(t,"scheduler"),o(t,"noneCT"),t.noneCT=fs(!1,[]),t.scheduler=new si,t.defCTS=[new li],t.Zero=Gt(),t.GetCT=r=>{r.k(Yt(r.ct))},t});function fs(e,t){return{c:e,r:t}}function ps(){throw new Ri("New")}function dn(e,t){let n=!1,r=0;for(;!n&&r<A(t);)e(t[r])?n=!0:r=r+1;return n}function hn(e,t){let n=null,r=0;for(;r<t.length&&n==null;){const s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function $s(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=g(r)),r=r+1;return n}function Kt(e){if(e instanceof Array)return e.slice();if(e instanceof N)return ge(e);{const t=[],n=k(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&M(n)&&n.Dispose()}}}function xt(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function ht(e,t){const n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function W(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function fn(e,t,n){let r=n;const s=t.length;for(let i=1,l=s;i<=l;i++)r=e(t[s-i],r);return r}function ge(e){const t=[];let n=e;for(;n.$!=0;)t.push(Xe(n)),n=Qe(n);return t}function ms(e,t){Ms(n=>n[0],qs((n,r)=>[r,[e(r),n]],t).sort((n,r)=>dt(n[1],r[1])))}function ws(e,t){const n=hn(e,t);return n==null?U("KeyNotFoundException"):n.$0}function ys(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++){const i=e(t[r]);i==null||n.push(i.$0)}return n}function gs(e){return Array.prototype.concat.apply([],Kt(e))}function bs(e,t){const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function Ns(e,t){e<0&&U("Negative size given.");const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}function vs(e,t){let n=!0,r=0;for(;n&&r<A(t);)e(t[r])?r=r+1:n=!1;return n}function Es(e){let t=null,n=0;const r=e.textContent,s=new RegExp(Ut(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(ut(r,g(n),g(s.lastIndex-G(t,0).length-1))),e),n=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",G(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=ut(r,g(n),null)}function Re(e){console.warn("Instantiating non-loaded template",e)}function Ds(e,t,n){const r=e.querySelector("[ws-replace]");return y(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),g(r.getAttribute("ws-replace")))}function As(e,t){const n=r=>{Y(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),Y(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),Y(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),Y(e,"[ws-on]",r=>{r.setAttribute("ws-on",ot(" ",xt(s=>t.Contains(G(nt(s,[":"],1),1)),nt(r.getAttribute("ws-on"),[" "],1))))}),Y(e,"[ws-attr-holes]",r=>{const s=nt(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){const u=G(s,i);let a=new RegExp(Ut(),"g"),d=r.getAttribute(u).replace(a,(f,v)=>t.Contains(v)?f:"");r.setAttribute(u,d)}})}function Gs(e,t){pn(t);const n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(y(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){const l=t.attributes.item(s);l.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+l.nodeValue):r.setAttribute(l.name,l.nodeValue)}}}function ks(e,t){const n=r=>{Y(e,"["+r+"]",s=>{let i;const l=(i=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:u=>{i=u}}),i]);l[0]&&s.setAttribute(r,l[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),Y(e,"[ws-on]",r=>{r.setAttribute("ws-on",ot(" ",ht(s=>{let i;const l=nt(s,[":"],1),u=(i=null,[t.TryGetValue(G(l,1),{get:()=>i,set:a=>{i=a}}),i]);return u[0]?G(l,0)+":"+u[1]:s},nt(r.getAttribute("ws-on"),[" "],1))))}),Y(e,"[ws-attr-holes]",r=>{const s=nt(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{const u=G(s,i);return r.setAttribute(u,xr((a,d)=>{const f=lt(d);return a.replace(new RegExp("\\${"+f[0]+"}","ig"),"${"+f[1]+"}")},r.getAttribute(u),t))})()})}function qe(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function pn(e){const t=e.attributes,n=[],r=[],s=[];for(let l=0,u=t.length-1;l<=u;l++){const a=t.item(l);if(se(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(ut(a.nodeName,g(5),null)+":"+a.nodeValue.toLowerCase());else if(!se(a.nodeName,"ws-")&&new RegExp(Ut()).test(a.nodeValue)){let d=new RegExp(Ut(),"g"),f=a.nodeValue.replace(d,(v,$)=>"${"+$.toLowerCase()+"}");a.nodeValue=f,s.push(a.nodeName)}}r.length!=0&&e.setAttribute("ws-on",ot(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",ot(" ",s));const i=l=>{const u=e.getAttribute(l);u==null||e.setAttribute(l,u.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),W(l=>{e.removeAttribute(l)},n)}function ut(e,t,n){if(t==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{const r=n.$0;return r<0?"":e.slice(t.$0,r+1)}}}function Ss(e){const t=globalThis.document.createElement("div");if(Ts().test(e)){let u=function(a,d){for(;;){if(d===0)return a;{const f=d;a=a.lastChild,d=f-1}}};var n=u;const r=Vs().exec(e),s=y(r,null)?"":G(r,1).toLowerCase(),i=xs()[s],l=i||Fs();return t.innerHTML=l[1]+e.replace(Is(),"<$1></$2>")+l[2],u(t,l[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Ts(){return ft.rhtml}function xs(){return ft.wrapMap}function Fs(){return ft.defaultWrap}function Is(){return ft.rxhtmlTag}function Vs(){return ft.rtagName}function Cs(e,t,n){const r=e.querySelectorAll(t);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function Ls(e,t,n){let r;if(n.parentNode===e){const s=n.nextSibling;let i=y(s,null)?null:s;r=t===i}else r=!1;r||e.insertBefore(n,t)}function Ps(e,t){t.parentNode===e&&e.removeChild(t)}function k(e){return e instanceof Array?$n(e):y(typeof e,"string")?mn(e):e.GetEnumerator()}function $n(e){return new _(0,null,t=>{const n=t.s;return n<A(e)&&(t.c=G(e,n),t.s=n+1,!0)},void 0)}function mn(e){return new _(0,null,t=>{const n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function Us(e){return e instanceof Array?$n(e):y(typeof e,"string")?mn(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}function Ot(){return U("The input sequence has an insufficient number of elements.")}function Rs(){return U("The input must be non-negative.")}function qs(e,t){for(let n=0,r=t.length-1;n<=r;n++)t[n]=e(n,t[n]);return t}function Ms(e,t){for(let n=0,r=t.length-1;n<=r;n++)t[n]=e(t[n])}function js(e,t){let n=!0,r=0;for(;n&&r<A(t);)y(t[r],e)?n=!1:r=r+1;return!n}class Ks extends j{constructor(n){super();o(this,"d");this.d=n}GetEnumerator(){return k(St(n=>n.K,this.d))}}class be{constructor(){o(this,"Attr");o(this,"Children");o(this,"Delimiters");o(this,"El");o(this,"ElKey");o(this,"Render")}Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,i,l){const u={Attr:t,Children:n,El:s,ElKey:i};let a=(Pt(u,"Delimiters",r),Pt(u,"Render",l),u);return T(be,a)}}function wn(){return di()}function Me(e){return At(()=>Z(Ws(()=>{},hi(e)),()=>(fi(e),Gt(null))))}function Os(e,t){return Ne(kn(e.$0,t.$0))}function Ws(e,t){const n=t.Duration;if(n===0)return vt();{const r=s=>{function i(l){return u=>{const a=u-l;return t.Compute(a),a<=n?void requestAnimationFrame(d=>{i(l)(d)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return He((s,i,l)=>r.apply(null,[s,i,l]))}}function Ne(e){return{$:0,$0:e}}function Qt(e){return Ne(Pi(St($i,e)))}function Bt(){return Ne(Tn())}function yn(){return An.BatchUpdatesEnabled}function Js(e){const t=[0];function n(){return At(()=>Z(e,()=>{const r=t[0];return y(r,1)?(t[0]=0,vt()):y(r,2)?(t[0]=1,n()):vt()}))}return()=>{const r=t[0];y(r,0)?(t[0]=1,fe(n())):y(r,1)&&(t[0]=2)}}function gn(){return Xs(je()+1),je()}function Xs(e){Ge.counter=e}function je(){return Ge.counter}function zt(e,t){return{$:2,$0:e,$1:t}}function Zt(e){return{$:0,$0:e}}function Ht(e,t){return{$:3,$0:e,$1:t}}function ve(e){return E.A3(e)}function Ys(e,t){const n=[],r=[];function s(u){for(;;)if(u!==null){if(u!=null&&u.$==1)return n.push(u.$0);if(u!=null&&u.$==2){const a=u.$1,d=u.$0;s(d),u=a}else return u!=null&&u.$==3?u.$0(e):u!=null&&u.$==4?r.push(u.$0):null}else return null}s(t);const i=n.slice(0);return ui(e,oe(t),i,r.length===0?null:g(u=>{Vr(a=>{a(u)},r)}))}function bn(){return F.EmptyAttr}function Qs(e){return(e.DynFlags&2)===2}function zs(e){return Ee(e,(t,n)=>t.NGetExitAnim(n))}function Zs(e){return(e.DynFlags&1)===1}function Hs(e){return Ee(e,(t,n)=>t.NGetEnterAnim(n))}function _s(e){return(e.DynFlags&4)===4}function Bs(e){return Ee(e,(t,n)=>t.NGetChangeAnim(n))}function oe(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function Ee(e,t){return Qt(ht(n=>t(n,e.DynElem),e.DynNodes))}function Nn(e,t){W(n=>{n.NSync(e)},t.DynNodes)}function ti(e){return Ui(t=>t.NChanged,ue(),we,e.DynNodes)}function ei(e,t){if(e===null)return t;if(t===null)return e;{const n=E.A2(e,t);return ri(n,oe(e)|oe(t)),n}}function ni(e,t){return E.A1(new Xi(e,t))}function ri(e,t){e.flags=t}class si extends j{constructor(){super();o(this,"idle");o(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}class ii extends Error{constructor(n,r,s,i){var t=(...sl)=>(super(...sl),o(this,"ct"),this);let l;if(n=="New"&&(l=r,n="New_1",r="The operation was canceled.",s=null,i=l),n=="New_1"){const u=r,a=s,d=i;t(u),this.inner=a,this.ct=d}}static New(n){return new this("New",n)}static New_1(n,r,s){return new this("New_1",n,r,s)}}class li extends j{constructor(){super();o(this,"init");o(this,"c");o(this,"pending");o(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}function ui(e,t,n,r){const s={DynElem:e,DynFlags:t,DynNodes:n};return Pt(s,"OnAfterRender",r),s}function oi(e,t){return{PreviousNodes:e,Top:t}}function ci(){return Ft(new O("New_3"))}function vn(e){const t=[];function n(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){const u=l.$1,a=l.$0;n(0,a),l=u}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){const u=l.$0.Holes;return(a=>d=>{W(a,d)})(s)(u)}else return null;break;case 1:t.push(l),l=l.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(e),Ft(new O("New_2",t))}function Ft(e){return{$:0,$0:e}}function De(e,t){return Ft(qi(e,t.$0))}function En(e,t){return Ft(Mi(e.$0,t.$0))}function Ae(e){return at(e.$0)}function ai(e,t){return Ft(ji(e.$0,t.$0))}function di(){return Gn.UseAnimations}function hi(e){return pi(ys(t=>t.$==1?g(t.$0):null,Sn(e.$0)))}function fi(e){W(t=>{t.$==0&&t.$0()},Sn(e.$0))}function pi(e){const t=It(e),n=A(t);if(n===0)return mi();if(n===1)return G(t,0);{const r=Cr(St(i=>i.Duration,t)),s=ht(i=>wi(r,i),t);return Dn(r,i=>{W(l=>{l.Compute(i)},s)})}}function $i(e){return e.$0}function mi(e){return Dn(0,()=>e)}function Dn(e,t){return{Compute:t,Duration:e}}function wi(e,t){const n=t.Compute,r=t.Duration,s=Zi(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:e}}let An=J(e=>{var t;return t=class{},An=e(t),o(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function _t(e){let t;const n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=A(t)-1;r<=s;r++){const i=G(t,r);typeof i=="object"?(l=>{_t(l)})(i):i()}}}class _ extends j{constructor(n,r,s,i){super();o(this,"s");o(this,"c");o(this,"n");o(this,"d");o(this,"e");this.s=n,this.c=r,this.n=s,this.d=i,this.e=0}Dispose(){this.d&&this.d(this)}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?U("Enumeration has not started. Call MoveNext."):U("Enumeration already finished.")}}function yi(){return F.StringApply}function tt(e,t,n){let r;return r=null,[s=>{const i=()=>{n.UpdateMaybe(l=>{let u;return r=e(s),r!=null&&r.$==1&&!y(r.$0,l)&&(u=[r,r.$0],!0)?u[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},rt(s=>r!=null&&r.$==1&&y(r.$0,s)&&(r.$0,!0)?null:g(s),n.View)]}function gi(){return F.StringSet}function bi(){return F.StringGet}function Ni(){return F.StringListSet}function vi(){return F.StringListGet}function Ei(){return F.DateTimeSetUnchecked}function Di(){return F.DateTimeGetUnchecked}function Ai(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let l;return r=e(s),r!=null&&r.$==1&&r.$0!==i&&(l=[r,r.$0],!0)?l[0]:null})})},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},rt(s=>r!=null&&r.$==1&&y(r.$0,s)&&(r.$0,!0)?null:g(s),n.View)]}function Gi(){return F.FileSetUnchecked}function ki(){return F.FileGetUnchecked}function Si(){return F.IntSetUnchecked}function Ti(){return F.IntGetUnchecked}function xi(){return F.IntSetChecked}function Fi(){return F.IntGetChecked}function Ii(){return F.FloatSetUnchecked}function Vi(){return F.FloatGetUnchecked}function Ci(){return F.FloatSetChecked}function Li(){return F.FloatGetChecked}let ft=J(e=>{var t;return t=class{},ft=e(t),o(t,"defaultWrap"),o(t,"wrapMap"),o(t,"rhtml"),o(t,"rtagName"),o(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=s,t.defaultWrap=[0,"",""]})(),t}),Gn=J(e=>{var t;return t=class{},Gn=e(t),o(t,"UseAnimations"),o(t,"CubicInOut"),t.CubicInOut=Se.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),t.UseAnimations=!0,t});function kn(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function Sn(e){const t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){const s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?W(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function Pi(e){const t=It(e);return ke(Tn(),kn,t)}function Tn(){return xn.Empty}let Ge=J(e=>{var t;return t=class{},Ge=e(t),o(t,"counter"),t.counter=0,t});class Wt extends h{constructor(n,r,s,i){super(n,r);o(this,"docNode_1");o(this,"updates_1");o(this,"elt");o(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=i}static New(n,r,s){const i=rn(n,r,s.docNode),l=Jt.Create(s.updates);return new Wt(Kr(i),we(ti(i.Attr),l.v),n,l)}}function It(e){if(e instanceof Array)return e;if(e instanceof N)return ge(e);if(e===null)return[];{const t=[],n=k(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&M(n)&&n.Dispose()}}}function ke(e,t,n){const r=A(n);function s(i){return l=>{switch(l<=0?0:l===1&&i>=0&&i<r?1:2){case 0:return e;case 1:return G(n,i);case 2:const u=l/2>>0;return t(s(i)(u),s(i+u)(l-u))}}}return s(0)(r)}function Ui(e,t,n,r){const s=A(r);function i(l){return u=>{switch(u<=0?0:u===1&&l>=0&&l<s?1:2){case 0:return t;case 1:return e(G(r,l));case 2:const a=u/2>>0;return n(i(l)(a),i(l+a)(u-a))}}}return i(0)(s)}let F=J(e=>{var t;return t=class{},F=e(t),o(t,"FloatApplyChecked"),o(t,"FloatGetChecked"),o(t,"FloatSetChecked"),o(t,"FloatApplyUnchecked"),o(t,"FloatGetUnchecked"),o(t,"FloatSetUnchecked"),o(t,"IntApplyChecked"),o(t,"IntGetChecked"),o(t,"IntSetChecked"),o(t,"IntApplyUnchecked"),o(t,"IntGetUnchecked"),o(t,"IntSetUnchecked"),o(t,"FileApplyUnchecked"),o(t,"FileGetUnchecked"),o(t,"FileSetUnchecked"),o(t,"DateTimeApplyUnchecked"),o(t,"DateTimeGetUnchecked"),o(t,"DateTimeSetUnchecked"),o(t,"StringListApply"),o(t,"StringListGet"),o(t,"StringListSet"),o(t,"StringApply"),o(t,"StringGet"),o(t,"StringSet"),o(t,"BoolCheckedApply"),o(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=c=>[m=>{m.addEventListener("change",()=>c.Get()!=m.checked?c.Set(m.checked):null)},m=>p=>p!=null&&p.$==1?void(m.checked=p.$0):null,rt(g,c.View)],t.StringSet=c=>m=>{c.value=m},t.StringGet=c=>g(c.value);const r=bi(),s=gi();t.StringApply=c=>tt(r,s,c),t.StringListSet=c=>m=>{const p=c.options;for(let D=0,L=p.length-1;D<=L;D++)(()=>{const X=p.item(D);X.selected=js(X.value,m)})()},t.StringListGet=c=>{const m=c.selectedOptions;return g(Kt(wt(()=>en(p=>[m.item(p).value],Ve(0,m.length-1)))))};const i=vi(),l=Ni();t.StringListApply=c=>tt(i,l,c),t.DateTimeSetUnchecked=c=>m=>{c.value=new Date(m).toLocaleString()},t.DateTimeGetUnchecked=c=>{let m,p;const D=c.value;if(pt(D))return g(-864e13);{m=0;const L=Qi(D);return p=[L!=null&&L.$==1&&(m=L.$0,!0),m],p[0]?g(p[1]):null}};const u=Di(),a=Ei();t.DateTimeApplyUnchecked=c=>tt(u,a,c),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=c=>{const m=c.files;return g(Kt(wt(()=>St(p=>m.item(p),Ve(0,m.length-1)))))};const d=ki(),f=Gi();t.FileApplyUnchecked=c=>Ai(d,f,c),t.IntSetUnchecked=c=>m=>{c.value=String(m)},t.IntGetUnchecked=c=>{const m=c.value;if(pt(m))return g(0);{const p=+m;return p!==p>>0?null:g(p)}};const v=Ti(),$=Si();t.IntApplyUnchecked=c=>tt(v,$,c),t.IntSetChecked=c=>m=>{const p=m.Input;return c.value!=p?void(c.value=p):null},t.IntGetChecked=c=>{let m,p;const D=c.value;if(pt(D))m=!c.checkValidity||c.checkValidity()?R.Blank(D):R.Invalid(D);else{const L=(p=0,[Sr(D,{get:()=>p,set:X=>{p=X}}),p]);m=L[0]?R.Valid(L[1],D):R.Invalid(D)}return g(m)};const w=Fi(),x=xi();t.IntApplyChecked=c=>tt(w,x,c),t.FloatSetUnchecked=c=>m=>{c.value=String(m)},t.FloatGetUnchecked=c=>{const m=c.value;if(pt(m))return g(0);{const p=+m;return isNaN(p)?null:g(p)}};const I=Vi(),V=Ii();t.FloatApplyUnchecked=c=>tt(I,V,c),t.FloatSetChecked=c=>m=>{const p=m.Input;return c.value!=p?void(c.value=p):null},t.FloatGetChecked=c=>{let m;const p=c.value;if(pt(p))m=!c.checkValidity||c.checkValidity()?R.Blank(p):R.Invalid(p);else{const D=+p;m=isNaN(D)?R.Invalid(p):R.Valid(D,p)}return g(m)};const b=Li(),S=Ci();t.FloatApplyChecked=c=>tt(b,S,c)})(),t});class Ri extends Error{static New(){return new this("New")}static New_1(t){return new this("New_1",t)}constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){const r=n;super(r)}}}class Se extends j{constructor(n){super();o(this,"transformTime");this.transformTime=n}static Custom(n){return new Se(n)}}function qi(e,t){return new O("New_2",xt(e,at(t)))}function Mi(e,t){const n=new O("New_2",at(t));return n.ExceptWith(at(e)),n}function at(e){const t=bs(e.Count,void 0);return e.CopyTo(t,0),t}function ji(e,t){const n=new O("New_2",at(e));return n.IntersectWith(at(t)),n}class Jt{constructor(){o(this,"c");o(this,"s");o(this,"v")}static Create(t){let n;return n=null,n=Jt.New(t,null,()=>{let r;return r=n.s,r===null&&(r=ss(n.c()),n.s=r,un(r,()=>{n.s=null})),r}),n}static New(t,n,r){return T(Jt,{c:t,s:n,v:r})}}function pt(e){return Nr(Yi,e)}class R{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return T(R,{$:2,$0:t})}static Invalid(t){return T(R,{$:1,$0:t})}static Valid(t,n){return T(R,{$:0,$0:t,$1:n})}}function te(e){let t=[];for(var n in e)t.push.apply(t,e[n]);return t}function Ki(e,t){let n;if(t!=null&&t.$==1){const r=[];for(n=t.$0[0].nextSibling;n!==t.$0[1];)r.push(n),n=n.nextSibling;return Xt(r)}else{let r=e.childNodes.length;const s=e.childNodes;let i=Ns(r,l=>s[l]);return Xt(i)}}function Oi(e,t){const n=e.$0;return Xt(xt(r=>vs(s=>r!==s,n),t.$0))}function Wi(e,t){W(e,t.$0)}function Ji(e){const t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(i=>l=>{W(i,l)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(s)}else{const s=r.$1,i=r.$0;n(i),r=s}}}return n(e.Children),Xt(It(t))}function Xt(e){return{$:0,$0:e}}class Xi extends j{constructor(n,r){super();o(this,"push");o(this,"value");o(this,"dirty");o(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=rt(s=>{this.value=s,this.dirty=!0},n)}NGetExitAnim(n){return Bt()}NGetEnterAnim(n){return Bt()}NGetChangeAnim(n){return Bt()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}get NChanged(){return this.updates}}function Yi(e){return e.match(new RegExp("\\s"))!==null}function Qi(e){const t=Date.parse(e);return isNaN(t)?null:g(t)}function zi(e,t,n,r){const s=+e,i=s===s-s%1&&s>=t&&s<=n;return i&&r.set(s),i}function Zi(e){return tl(!1,e,Hi)}function Hi(){const e=this.v();return this.c=!0,this.v=e,this.f=_i,e}function _i(){return this.v}let xn=J(e=>{var t;return t=class{},xn=e(t),o(t,"Empty"),t.Empty={$:0},t});function Bi(e){e.splice(0,A(e))}function tl(e,t,n){return{c:e,v:t,f:n}}Cn(()=>{Pn()});Ln();
